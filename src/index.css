@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn-glass-ui/styles.css";

@custom-variant dark (&:is(.dark *));

/* Register color utilities for Tailwind v4 */
@theme inline {
  --color-background: var(--color-background);
  --color-foreground: var(--color-foreground);
  --color-card: var(--color-card);
  --color-card-foreground: var(--color-card-foreground);
  --color-popover: var(--color-popover);
  --color-popover-foreground: var(--color-popover-foreground);
  --color-primary: var(--color-primary);
  --color-primary-foreground: var(--color-primary-foreground);
  --color-secondary: var(--color-secondary);
  --color-secondary-foreground: var(--color-secondary-foreground);
  --color-muted: var(--color-muted);
  --color-muted-foreground: var(--color-muted-foreground);
  --color-accent: var(--color-accent);
  --color-accent-foreground: var(--color-accent-foreground);
  --color-destructive: var(--color-destructive);
  --color-border: var(--color-border);
  --color-input: var(--color-input);
  --color-ring: var(--color-ring);
  --color-success: var(--color-success);
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-2xl: var(--radius-2xl);
  --radius-full: var(--radius-full);
}

/* =============================================
   Base variables required by shadcn-glass-ui
   The library expects *-base variables for color calculation
   ============================================= */

:root {
  --radius: 0.625rem;

  /* Blur tokens */
  --blur-sm: 8px;
  --blur-md: 16px;
  --blur-lg: 24px;
  --blur-xl: 32px;
  --blur-glass: 16px;

  /* Radius tokens */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-full: 9999px;

  /* Shadow/glow tokens */
  --shadow: 0 4px 16px oklch(0 0 0 / 10%);
  --shadow-lg: 0 10px 32px oklch(0 0 0 / 15%);
  --glow-primary: 0 0 20px oklch(0.6 0.2 250 / 30%);
  --glow-secondary: 0 0 20px oklch(0.7 0.15 280 / 25%);
  --text-shadow-glass: 0 1px 2px oklch(0 0 0 / 40%);

  /* Glass surface tokens */
  --glass-bg-subtle: oklch(1 0 0 / 8%);
  --glass-bg-strong: oklch(1 0 0 / 20%);
  --glass-border-subtle: oklch(0 0 0 / 8%);
  --glass-border-strong: oklch(0 0 0 / 15%);
}

/* Light theme base variables */
:root,
[data-theme="light"] {
  /* Core color bases for library color calculation */
  --background-base: oklch(1 0 0);
  --foreground-base: oklch(0.129 0.042 264.695);
  --card-base: oklch(1 0 0);
  --card-fg-base: oklch(0.129 0.042 264.695);
  --popover-base: oklch(1 0 0);
  --popover-fg-base: oklch(0.129 0.042 264.695);
  --primary-base: oklch(0.208 0.042 265.755);
  --primary-fg-base: oklch(0.984 0.003 247.858);
  --secondary-base: oklch(0.968 0.007 247.896);
  --secondary-fg-base: oklch(0.208 0.042 265.755);
  --muted-base: oklch(0.968 0.007 247.896);
  --muted-fg-base: oklch(0.554 0.046 257.417);
  --accent-base: oklch(0.968 0.007 247.896);
  --accent-fg-base: oklch(0.208 0.042 265.755);
  --destructive-base: oklch(0.577 0.245 27.325);
  --destructive-fg-base: oklch(0.984 0.003 247.858);
  --border-base: oklch(0.929 0.013 255.508);
  --input-base: oklch(0.929 0.013 255.508);
  --ring-base: oklch(0.704 0.04 256.788);
  --success-base: oklch(0.55 0.15 145);
  --warning-base: oklch(0.75 0.15 85);
  --info-base: oklch(0.6 0.15 250);
  --error-base: oklch(0.577 0.245 27.325);

  /* Project-specific colors */
  --success: oklch(0.55 0.15 145);
  --warning: oklch(0.75 0.15 85);
  --caution: oklch(0.65 0.18 50);
  --activity-bar-bg: oklch(0.93 0.01 260);
  --activity-bar-fill: oklch(0.6 0.12 250);
  --activity-bar-fill-active: oklch(0.42 0.2 250);
}

/* Glass/Dark theme base variables */
[data-theme="glass"],
.dark {
  /* Core color bases for library color calculation */
  --background-base: oklch(0.129 0.042 264.695);
  --foreground-base: oklch(0.984 0.003 247.858);
  --card-base: oklch(0.208 0.042 265.755);
  --card-fg-base: oklch(0.984 0.003 247.858);
  --popover-base: oklch(0.208 0.042 265.755);
  --popover-fg-base: oklch(0.984 0.003 247.858);
  --primary-base: oklch(0.929 0.013 255.508);
  --primary-fg-base: oklch(0.208 0.042 265.755);
  --secondary-base: oklch(0.279 0.041 260.031);
  --secondary-fg-base: oklch(0.984 0.003 247.858);
  --muted-base: oklch(0.279 0.041 260.031);
  --muted-fg-base: oklch(0.704 0.04 256.788);
  --accent-base: oklch(0.279 0.041 260.031);
  --accent-fg-base: oklch(0.984 0.003 247.858);
  --destructive-base: oklch(0.704 0.191 22.216);
  --destructive-fg-base: oklch(0.984 0.003 247.858);
  --border-base: oklch(1 0 0 / 10%);
  --input-base: oklch(1 0 0 / 15%);
  --ring-base: oklch(0.551 0.027 264.364);
  --success-base: oklch(0.65 0.17 145);
  --warning-base: oklch(0.8 0.15 85);
  --info-base: oklch(0.7 0.15 250);
  --error-base: oklch(0.704 0.191 22.216);

  /* Glass surface tokens (dark) */
  --glass-bg-subtle: oklch(0.15 0.02 260 / 20%);
  --glass-bg-strong: oklch(0.15 0.02 260 / 40%);
  --glass-border-subtle: oklch(1 0 0 / 10%);
  --glass-border-strong: oklch(1 0 0 / 20%);

  /* Project-specific colors */
  --success: oklch(0.65 0.17 145);
  --warning: oklch(0.8 0.15 85);
  --caution: oklch(0.72 0.16 50);
  --activity-bar-bg: oklch(0.22 0.02 260);
  --activity-bar-fill: oklch(0.5 0.14 250);
  --activity-bar-fill-active: oklch(0.68 0.2 250);
}

/* Aurora theme */
[data-theme="aurora"] {
  --background-base: oklch(0.15 0.05 280);
  --foreground-base: oklch(0.95 0.02 280);
  --primary-base: oklch(0.7 0.2 300);
  --primary-fg-base: oklch(0.15 0.05 280);
  --card-base: oklch(0.2 0.04 280);
  --card-fg-base: oklch(0.95 0.02 280);
  --popover-base: oklch(0.2 0.04 280);
  --popover-fg-base: oklch(0.95 0.02 280);
  --secondary-base: oklch(0.3 0.05 280);
  --secondary-fg-base: oklch(0.95 0.02 280);
  --muted-base: oklch(0.3 0.05 280);
  --muted-fg-base: oklch(0.7 0.03 280);
  --accent-base: oklch(0.6 0.15 320);
  --accent-fg-base: oklch(0.15 0.05 280);
  --destructive-base: oklch(0.6 0.2 25);
  --destructive-fg-base: oklch(0.95 0.02 280);
  --border-base: oklch(1 0 0 / 12%);
  --input-base: oklch(1 0 0 / 15%);
  --ring-base: oklch(0.7 0.2 300);
  --success-base: oklch(0.65 0.17 145);
  --warning-base: oklch(0.8 0.15 85);
  --info-base: oklch(0.7 0.15 250);
  --error-base: oklch(0.6 0.2 25);

  /* Glass surface tokens (aurora) */
  --glass-bg-subtle: oklch(0.2 0.04 280 / 25%);
  --glass-bg-strong: oklch(0.2 0.04 280 / 45%);
  --glass-border-subtle: oklch(1 0 0 / 12%);
  --glass-border-strong: oklch(1 0 0 / 22%);

  /* Project-specific colors */
  --success: oklch(0.65 0.17 145);
  --warning: oklch(0.8 0.15 85);
  --caution: oklch(0.72 0.16 50);
  --activity-bar-bg: oklch(0.22 0.04 280);
  --activity-bar-fill: oklch(0.5 0.14 300);
  --activity-bar-fill-active: oklch(0.7 0.2 300);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
  }

  /* Gradient backgrounds for glass themes */
  [data-theme="glass"] body {
    background: linear-gradient(
      135deg,
      oklch(0.15 0.03 260) 0%,
      oklch(0.18 0.04 270) 50%,
      oklch(0.16 0.03 250) 100%
    );
  }

  [data-theme="aurora"] body {
    background: linear-gradient(
      135deg,
      oklch(0.15 0.05 280) 0%,
      oklch(0.18 0.08 300) 25%,
      oklch(0.16 0.06 260) 50%,
      oklch(0.18 0.08 320) 75%,
      oklch(0.15 0.05 280) 100%
    );
  }
}
